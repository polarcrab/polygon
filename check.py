from random import seed, randint, uniform
from libcavehull import concave_hull, convex_hull
import math

import matplotlib.pyplot as plt

# seed(4)
# npoints = 100
# r = [(uniform(0, npoints), uniform(-math.pi, math.pi)) for _ in range(npoints)]
# xpoints = [_[0] * math.cos(_[1]) for _ in r]
# ypoints = [_[0] * math.sin(_[1]) for _ in r]
# points = list(zip(xpoints, ypoints))
points = [(28.528025, 77.019692), (28.519101, 77.02621), (28.513419, 77.070197), (28.508751, 77.033129), (28.507469, 77.015547), (28.507097, 77.06963), (28.507159, 77.064106), (28.493656, 77.025357), (28.513419, 77.070197), (28.495356, 77.013473), (28.530812, 77.023855), (28.513419, 77.070197), (28.5114531, 77.0437403), (28.504204, 77.04923), (28.506289, 77.022971), (28.514916, 77.042591), (28.50396, 76.998605), (28.492, 77.0215), (28.504052, 77.063974), (28.489289, 77.018055), (28.496722, 77.013262), (28.48792, 77.006618), (28.494142, 77.056247), (28.488945, 77.010888), (28.506099, 77.036557), (28.516283, 77.036495), (28.509306, 77.033358), (28.474013, 77.023911), (28.523608, 77.023), (28.491659, 77.017359), (28.517866, 77.042585), (28.511801, 77.067612), (28.480817, 77.019498), (28.509952, 76.996933), (28.524248, 77.0432), (28.490891, 77.000401), (28.493572, 77.009549), (28.517551, 77.07484), (28.489, 77.0136), (28.487424, 76.998064), (28.510792, 77.048686), (28.507097, 77.06963), (28.505246, 77.046445), (28.498854, 77.059424), (28.47842, 77.028154), (28.504052, 77.063974), (28.501617, 76.989526), (28.509902, 77.019602), (28.517866, 77.042585), (28.509855, 77.026143), (28.505662, 77.038222), (28.513419, 77.070197), (28.498846, 77.022464), (28.509793, 77.071093), (28.495123, 77.011387), (28.49281, 76.99489), (28.50689, 77.071362), (28.488685, 77.014752), (28.517644, 77.040093), (28.510326, 77.052701), (28.510158, 77.072686), (28.489263, 77.013137), (28.517821, 77.029211), (28.493411, 77.025113), (28.491659, 77.017359), (28.51289, 77.036123), (28.501844, 77.0224), (28.506912, 77.071336), (28.525761, 77.017494), (28.47842, 77.028154), (28.51038, 77.037453), (28.52399, 77.032555), (28.493656, 77.025357), (28.505567, 77.069032), (28.495297, 76.994346), (28.488107, 77.019653), (28.501253, 77.017558), (28.505246, 77.046445), (28.512854, 77.036068), (28.469461, 77.033075), (28.506703, 77.064169), (28.496839, 77.04609), (28.489, 77.0136), (28.521686, 77.043481), (28.511801, 77.067612), (28.508987, 77.041658), (28.5107834, 77.0426505), (28.486314, 77.013432), (28.490141, 77.009335), (28.532439, 77.012034), (28.503985, 76.989893), (28.460826, 77.020095), (28.494185, 76.984077), (28.517551, 77.07484), (28.516283, 77.036495), (28.513419, 77.070197), (28.510907, 77.003855), (28.516072, 77.072714), (28.510326, 77.052701), (28.491659, 77.017359), (28.518891, 77.038879), (28.512391, 76.978213), (28.50396, 76.998605), (28.507948, 77.071068), (28.512253, 77.067005), (28.496969, 77.008886), (28.48258, 77.009581), (28.513518, 77.02828), (28.491659, 77.017359), (28.498846, 77.022464), (28.479335, 77.033249), (28.504052, 77.063974), (28.500164, 77.061351), (28.505567, 77.069032), (28.513927, 76.983618), (28.519474, 77.006963), (28.508853, 77.066419), (28.511465, 77.041943), (28.512391, 76.978213), (28.48119, 77.097155), (28.513927, 76.983618), (28.480817, 77.019498), (28.508391, 77.033522), (28.506916, 77.04432), (28.501253, 77.017558), (28.508751, 77.033129), (28.496839, 77.04609), (28.509793, 77.071093), (28.50831, 77.069903), (28.505346, 77.026923), (28.493154, 77.020622), (28.509727, 77.023691), (28.510903, 77.032766), (28.514175, 77.039755), (28.47957, 77.029999), (28.509793, 77.071093), (28.505567, 77.069032), (28.510326, 77.052701), (28.515848, 77.050398), (28.505417, 77.028966), (28.498854, 77.059424), (28.487424, 76.998064), (28.511206, 77.030153), (28.506466, 76.973691), (28.5114531, 77.0437403), (28.505567, 77.069032), (28.48258, 77.009581), (28.508751, 77.033129), (28.51433, 76.988099), (28.517551, 77.07484), (28.501352, 77.033277), (28.501076, 77.042674), (28.493275, 77.012131), (28.495356, 77.013473), (28.488107, 77.019653), (28.499623, 77.043594), (28.479335, 77.033249), (28.493572, 77.009549), (28.500164, 77.061351), (28.488945, 77.010888), (28.492567, 77.016596), (28.5072873, 77.0546381), (28.513419, 77.070197), (28.495123, 77.011387), (28.496722, 77.013262), (28.500348, 77.065197), (28.512283, 77.066969), (28.492, 77.0215), (28.507159, 77.064106), (28.505567, 77.069032), (28.47957, 77.029999), (28.507812, 77.04413), (28.508627, 77.031352), (28.494492, 76.998252), (28.509264, 77.030563), (28.493656, 77.025357), (28.510326, 77.052701), (28.504052, 77.063974), (28.495297, 76.994346), (28.507097, 77.06963), (28.483845, 77.028574), (28.511475, 77.041943), (28.493411, 77.025113), (28.498846, 77.022464), (28.517236, 77.01873), (28.509306, 77.033358), (28.514275, 77.03559), (28.512854, 77.036068), (28.505624, 77.038201), (28.491716, 77.014667), (28.498846, 77.022464), (28.509902, 77.019602), (28.511475, 77.041943), (28.501473, 77.018946), (28.511465, 77.041943), (28.492, 77.0215), (28.486314, 77.013432), (28.500189, 77.033619), (28.484768, 77.013412), (28.510158, 77.072686), (28.483214, 76.97427), (28.480817, 77.019498), (28.501216, 77.024389), (28.488901, 77.003717), (28.498854, 77.059424), (28.510148, 77.041847), (28.501141, 77.018615), (28.4981018, 77.0636807), (28.493275, 77.012131), (28.513043, 77.0286), (28.474013, 77.023911), (28.508751, 77.033129), (28.505567, 77.069032), (28.508751, 77.033129), (28.494142, 77.056247), (28.535836, 77.006529), (28.5084069, 77.0614877), (28.493656, 77.025357), (28.489145, 77.013013), (28.498846, 77.022464), (28.522282, 77.039652), (28.5039615, 77.0563272), (28.5125292, 77.0568663), (28.503173, 77.004062), (28.508391, 77.033522), (28.502175, 77.062588), (28.512283, 77.066969), (28.500189, 77.033619), (28.509393, 77.040514), (28.493624, 77.002), (28.5114531, 77.0437403), (28.510326, 77.052701), (28.491857, 77.011273), (28.528025, 77.019692), (28.5103764, 77.0592044), (28.501253, 77.017558), (28.517865, 77.07752), (28.509952, 76.996933), (28.517644, 77.040093), (28.505738, 77.032184), (28.500937, 77.022472), (28.483845, 77.028574), (28.501076, 77.042674), (28.518533, 77.042839), (28.507559, 77.042563), (28.507559, 77.042563), (28.469461, 77.033075), (28.508853, 77.066419), (28.51163, 77.042076), (28.509269, 77.041357), (28.494142, 77.056247), (28.485534, 77.019593), (28.489289, 77.018055), (28.505246, 77.046445), (28.488685, 77.014752), (28.510326, 77.052701), (28.499623, 77.043594), (28.42571, 77.031125), (28.5137806, 77.0610026), (28.509269, 77.041368), (28.483845, 77.028574), (28.502137, 77.062588), (28.505246, 77.046445), (28.506916, 77.04432), (28.515006, 77.035851), (28.503173, 77.004062), (28.508853, 77.066419), (28.514948, 77.035874), (28.488508, 77.008209), (28.496839, 77.04609), (28.51163, 77.042076), (28.488901, 77.003717), (28.523608, 77.023), (28.488945, 77.010888), (28.507469, 77.015547), (28.502988, 77.028805), (28.5116688, 77.0530077), (28.5136652, 77.0500548), (28.510907, 77.003855), (28.508665, 77.031191), (28.491857, 77.011273), (28.489289, 77.018055), (28.504052, 77.063974), (28.508853, 77.066419), (28.496969, 77.008886), (28.492, 77.0215), (28.469461, 77.033075), (28.478171, 77.030059), (28.517967, 77.037724), (28.508751, 77.033129)]
# points = list(set(points))
points2 = []
mp = 1
for each in points:
    points2.append((each[0] * mp, each[1] * mp))
points = points2
plt.scatter([_[0] for _ in points], [_[1] for _ in points])
# ch = ConcaveHull(points, 270).hull
# ch2 = ConcaveHull(points).hull
# ch = convex_hull(points)

# fig = plt.figure()
# ax = fig.add_subplot(111)

ch2 = concave_hull(points, 2)
# print(ch)
# for each in ch:
#     plt.plot([each[0][0], each[1][0]], [each[0][1], each[1][1]])

# for i,j in points:
#     ax.annotate('%s)' %j, xy=(i,j), xytext=(50,0), textcoords='offset points')
#     ax.annotate('(%s,' %i, xy=(i,j))

for each in ch2:
    plt.plot([each[0][0], each[1][0]], [each[0][1], each[1][1]])


# plt.plot([_[0] for _ in ch], [_[1] for _ in ch])
# plt.plot([_[0] for _ in ch2], [_[1] for _ in ch2])

plt.show()
